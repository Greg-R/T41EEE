Notes on Modifications to T41EEE Calibration Code

The calibration code in T41EEE up to version 0.9 has a lot of duplication.
The calibration code is split between CW and SSB, yet they perform the same
basic function.

There is also some possibility of consolidating CW and SSB transmitters.
Rather than have completely independent CW and SSB exciter code, the
SSB code will be used to generate CW by injecting a DSP generated tone
into the SSB microphone port.

Receive calibration has different requirements.  A series of experiments was
performed to determine the optimal calibration method.  It turns out there
are three possible ways to calibrate the receiver.  The method with the
best overall receiver performance was chosen.

The primary problem with receiver calibration is that to calibrate the
image response, the spectrum must be viewed at two times the IF frequency.
This requires 1X zoom and the receiver must be operated at 192ksps.

So the first task was to create a standalone object for receiver calibration
only.  This is because the transmitter calibration runs at 48ksps.  This
new class was derived from the T41EEE.9 CW calibration code.  This is because
the very simple CW exciter code (192ksps) is needed to provide the test signal during
receiver calibration.  The transmit and carrier calibration code was removed.

Receiver calibration is now easier to understand.  It was not clear exactly what
it was doing before.  Now the test signal is set to twice the IF frequency (48kHz)
above the receiver test frequency.  This frequency is the receiver's image frequency.
The response to the image frequency is minimized during the calibration process.
Subsequent testing has shown that this method is effective at reducing the
response to signals at the image frequency.

Now back to transmit calibration.  The T41EEE.9 SSB calibration code was used
as a starting point.  This code included receiver calibration code, which was
removed, as this is now covered by the independent receiver calibration code.

Since SSB calibration uses a single tone into the microphone port, CW
calibration is not much different.

The CW transmitter uses a tone generated in a way to similar as before.
It uses an array of floats to create a sinusoidal tone.  This array is
given to the AudioPlayQueue which drives the sinusoidal tone into the
microphone input of the SSB transmitter signal chain.  The original ramping
code to produce clean CW is preserved.

One consequence of going to 48ksps is that the array for the CW tone has
to be doubled in size from 256 to 512 floats.  This takes up memory.

Some other redundancies in the code were eliminated by taking chunks
of code from the original very large methods and making helper methods.

